/*!
 * Widget:  jquery-ui-menu.js
 *
 * Autor:   K3nguruh <https://github.com/K3nguruh>
 * Version: 1.0.0
 * Datum:   2024-08-04 15:25
 * Lizenz:  MIT-Lizenz
 */
!function(e){e.widget("custom.menu",{version:"1.0.0",date:"2024-08-04",options:{breakpoint:992,duration:300,menuHover:!1},_create:function(){this.options=e.extend(!0,{},this.options,this.element.data()),this._render(),this._resize(),this._events()},_render:function(){this.$window=e(window),this.$menu=e(this.element),this.$menuLists=this.$menu.find("ul"),this.$menuItems=this.$menuLists.children("li"),this.$menuTexts=this.$menuItems.children("span"),this.$menuLinks=this.$menuItems.children("a"),this.$menuLinksSub=this.$menuLinks.filter(":not(:only-child)"),this.$menuIcon=e("<i></i>"),this.$menuLists.addClass("menu-list"),this.$menuItems.addClass("menu-item"),this.$menuTexts.addClass("menu-text"),this.$menuLinks.addClass("menu-link"),this.$menuLinksSub.addClass("menu-link-sub"),this.$menuIcon.addClass("menu-icon"),this.$menuLinksSub.append(this.$menuIcon)},_resize:function(){if(this.$window.innerWidth()<this.options.breakpoint){if(this.$menu.hasClass(`${this.widgetName}-mobile`))return;this.$menu.addClass(`${this.widgetName}-mobile`),this.$menu.removeClass(`${this.widgetName}-desktop`)}else{if(this.$menu.hasClass(`${this.widgetName}-desktop`))return;this.$menu.addClass(`${this.widgetName}-desktop`),this.$menu.removeClass(`${this.widgetName}-mobile`)}this.$menuLists.slice(1).hide().prev("a").removeClass("active")},_close:function(s){const i=e(s.target);this.$menuLists.has(i).length||this.$menuLists.slice(1).finish().slideUp(this.options.duration).prev("a").removeClass("active")},_toggle:function(s){const i=e(s.currentTarget),t=i.next("ul"),n=i.parents("ul");i.toggleClass("active"),t.finish().slideToggle(this.options.duration),this.$menuLists.slice(1).not(t).not(n).finish().slideUp(this.options.duration).prev("a").removeClass("active")},_enter:function(s){const i=e(s.currentTarget).children("ul");!0===this.options.menuHover&&this.$menu.hasClass(`${this.widgetName}-desktop`)&&i.finish().slideDown(this.options.duration).prev("a").addClass("active")},_leave:function(s){const i=e(s.currentTarget).children("ul");!0===this.options.menuHover&&this.$menu.hasClass(`${this.widgetName}-desktop`)&&i.finish().slideUp(this.options.duration).prev("a").removeClass("active")},_events:function(){this._on(this.$window,{resize:this._onResize,click:this._onClose}),this._on(this.$menuItems,{mouseenter:this._onEnter,mouseleave:this._onLeave}),this._on(this.$menuLinksSub,{click:this._onToggle})},_onResize:function(e){e.preventDefault(),this._resize()},_onClose:function(e){this._close(e)},_onToggle:function(e){e.preventDefault(),this._toggle(e)},_onEnter:function(e){e.preventDefault(),this._enter(e)},_onLeave:function(e){e.preventDefault(),this._leave(e)}}),e((function(){e("[data-plugin='menu']").menu()}))}(jQuery);